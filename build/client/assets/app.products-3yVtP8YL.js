import{r as o,j as t}from"./index-DIrg4KX8.js";import{u as P,b as y}from"./components-4iL-Yhb0.js";import{I as h,T as w,c as A,B as m,P as T,C as B,b as D,a as l}from"./Page-Ca4k7FYh.js";import{T as E}from"./Thumbnail-xjyCNwAm.js";import{T as F,L as x}from"./TitleBar-C3pslk-9.js";import{S as L}from"./Select-0Rl7DaRo.js";import{D as k}from"./DataTable-D7lJGE9G.js";import{M as f}from"./Modal-B0RyZzSW.js";import{F as M}from"./FormLayout-pJDZu5ec.js";import"./context-6NiORI7R.js";import"./Image-DqtWbd5n.js";import"./context-Bxa3xaph.js";import"./CSSTransition-BiEcohmw.js";function U(){const{products:j}=P(),d=y(),[v,s]=o.useState(!1),[u,p]=o.useState(""),[n,g]=o.useState("all"),[a,i]=o.useState({title:"",price:"",description:""}),C=j.filter(e=>{const r=e.title.toLowerCase().includes(u.toLowerCase()),c=n==="all"||e.status.toLowerCase()===n;return r&&c}).map(e=>{var r;return[t.jsxs(h,{gap:"200",children:[t.jsx(E,{source:((r=e.images[0])==null?void 0:r.url)||"/placeholder.svg?height=40&width=40",alt:e.title,size:"small"}),t.jsx(w,{variant:"bodyMd",fontWeight:"medium",children:e.title})]},e.id),t.jsx(A,{tone:e.status==="ACTIVE"?"success":"critical",children:e.status},`status-${e.id}`),e.variants.length>0?`$${e.variants[0].price}`:"N/A",e.variants.reduce((c,b)=>c+b.inventoryQuantity,0),e.vendor,t.jsx(m,{size:"slim",onClick:()=>console.log("Edit",e.id),children:"Edit"},`edit-${e.id}`)]}),S=()=>{const e=new FormData;e.append("action","create"),e.append("title",a.title),e.append("price",a.price),e.append("description",a.description),d.submit(e,{method:"post"}),s(!1),i({title:"",price:"",description:""})};return t.jsxs(T,{children:[t.jsx(F,{title:"Products",children:t.jsx(m,{variant:"primary",onClick:()=>s(!0),children:"Add Product"})}),t.jsx(x,{children:t.jsx(x.Section,{children:t.jsx(B,{children:t.jsxs(D,{gap:"400",children:[t.jsxs(h,{gap:"400",children:[t.jsx("div",{style:{flexGrow:1},children:t.jsx(l,{label:"Search products",value:u,onChange:p,placeholder:"Search by product name...",clearButton:!0,onClearButtonClick:()=>p("")})}),t.jsx(L,{label:"Status",options:[{label:"All",value:"all"},{label:"Active",value:"active"},{label:"Draft",value:"draft"}],value:n,onChange:g})]}),t.jsx(k,{columnContentTypes:["text","text","text","numeric","text","text"],headings:["Product","Status","Price","Inventory","Vendor","Actions"],rows:C,pagination:{hasNext:!1,hasPrevious:!1}})]})})})}),t.jsx(f,{open:v,onClose:()=>s(!1),title:"Add New Product",primaryAction:{content:"Create Product",onAction:S,loading:d.state==="submitting"},secondaryActions:[{content:"Cancel",onAction:()=>s(!1)}],children:t.jsx(f.Section,{children:t.jsxs(M,{children:[t.jsx(l,{label:"Product Title",value:a.title,onChange:e=>i({...a,title:e}),placeholder:"Enter product title"}),t.jsx(l,{label:"Price",value:a.price,onChange:e=>i({...a,price:e}),placeholder:"0.00",prefix:"$",type:"number"}),t.jsx(l,{label:"Description",value:a.description,onChange:e=>i({...a,description:e}),placeholder:"Enter product description",multiline:4})]})})})]})}export{U as default};
